<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Arrange</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Arrange</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>Arrange<span class="signature">(url)</span><span class="type-signature"></span></h2>
        
            <div class="class-description">Arrange client library. The instanziation of a new server connection is done via Arrange.connect(url).</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="Arrange"><span class="type-signature"></span>new Arrange<span class="signature">(url)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Connect to server. Use Arrange.connect() for easier access.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">URL of the server, defaults to window.location at same host</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="arrange-client.js.html">arrange-client.js</a>, <a href="arrange-client.js.html#line4">line 4</a>
    </li></ul></dd>
    

    

    

    
</dl>


















    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".FIELDTYPE"><span class="type-signature">(static) </span>FIELDTYPE<span class="type-signature"> :String</span></h4>




<div class="description">
    Describes possible types of datatype fields.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">String</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>text</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Used for all texts of any length. Value is 'text'</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>boolean</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Can be true or false. Value is 'boolean'</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>number</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="arrange-client.js.html">arrange-client.js</a>, <a href="arrange-client.js.html#line241">line 241</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id=".connect"><span class="type-signature">(static) </span>connect<span class="signature">(url)</span><span class="type-signature"> &rarr; {<a href="Arrange.html">Arrange</a>}</span></h4>
    

    



<div class="description">
    Connect to the given server.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">URL of the server, defaults to window.location at same host</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="arrange-client.js.html">arrange-client.js</a>, <a href="arrange-client.js.html#line230">line 230</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Instance of the arrange server connection
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Arrange.html">Arrange</a></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var arrangeconnection = await Arrange.connect('myarrangeserverurl');</code></pre>



        
            

    

    
    <h4 class="name" id="addchild"><span class="type-signature">(async) </span>addchild<span class="signature">(parentdatatypeid, parentobjectid, childdatatypeid, childobjectid)</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    Create a parent child relation between two objects.
The parent and child objects must exist in the client of the logged in user.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>parentdatatypeid</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Datatype ID of the parent object</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>parentobjectid</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">ID of the parent object</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>childdatatypeid</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Datatype ID of the child object</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>childobjectid</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">ID of the child object</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="arrange-client.js.html">arrange-client.js</a>, <a href="arrange-client.js.html#line47">line 47</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    True, when the parent child relation was created, false otherwise
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="createclient"><span class="type-signature">(async) </span>createclient<span class="signature">(clientname)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Creates a client and returns it with an id.
Works only, when logged in as 'admin'.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>clientname</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Name for the new client. Does not need to be unique and can contain any string.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="arrange-client.js.html">arrange-client.js</a>, <a href="arrange-client.js.html#line65">line 65</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Client object containing an id field or null when the logged in user was not 'admin'.
</div>



    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>await arrangeconnection.login('admin', 'adminpassword'); // Need to login as admin
var newclient = await arrangeconnection.createClient('My new client');
// newclient = {
//     id: 'generatedid',
//     name: 'My new client'
// }</code></pre>



        
            

    

    
    <h4 class="name" id="createdatatype"><span class="type-signature">(async) </span>createdatatype<span class="signature">(datatypename)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Creates a datatype and returns it with an id. A corresponding table will be created in
the database of the currently logged in user. 'admin'`s cannot create datatypes.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>datatypename</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Name of the datatype</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="arrange-client.js.html">arrange-client.js</a>, <a href="arrange-client.js.html#line82">line 82</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Object containing the id of the created datatype.
</div>



    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var newdatatype = await arrangeconnection.createdatatype('My new datatype');
// newdatatype = {
//     id: 'generatedid',
//     name: 'My new datatype'
// }</code></pre>



        
            

    

    
    <h4 class="name" id="createfield"><span class="type-signature">(async) </span>createfield<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Creates a field for a datatype. Returns the field with the generated id.
When the datatype or fieldtype does not exist, null is returned.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="arrange-client.js.html">arrange-client.js</a>, <a href="arrange-client.js.html#line91">line 91</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="createuser"><span class="type-signature">(async) </span>createuser<span class="signature">(username, password, clientid)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    Creates an user within the client where the currently logged in user belongs to. When the 'admin' user
is logged in, the 'clientid' parameter must be set to define in which client the user should be created.
Fails when there is already an user with the given username in any client.
Returns the user without a password but with the generated id.
When there is no client with the given name, null is returned.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>username</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Username to use. Must be unique across all clients. 'admin' is not allowed.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>password</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Password for the new user</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>clientid</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">When the currently logged in user is 'admin', the new user is created in the client with this id, otherwise this parameter is ignored.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="arrange-client.js.html">arrange-client.js</a>, <a href="arrange-client.js.html#line119">line 119</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Returns an object with the id of the newly created user or null, when the username is already in use or when the 'admin' user was logged in and there is no client with the given clientid. The password is not returned.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// Create an user in any client when logged in as 'admin'
await arrangeconnection.login('admin', 'adminpassword');
var newuser = await arrangeconnection.createuser('newusername', 'newpassword', 'idoftheclient');
// newuser = {
//    id: 'generatedid',
//    username: 'newusername'
// }
// Login as normal user in a client
await arrangeconnection.login('normalusername', 'userpassword');
// Create an user in the same client as the logged in user
var newuser = await arrangeconnection.createuser('newusername', 'newpassword');</code></pre>



        
            

    

    
    <h4 class="name" id="deletedatatype"><span class="type-signature">(async) </span>deletedatatype<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Delete a datatype and its corresponding database table.
When there is no datatype of the given id, nothing happens
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="arrange-client.js.html">arrange-client.js</a>, <a href="arrange-client.js.html#line132">line 132</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="deletefield"><span class="type-signature">(async) </span>deletefield<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Delete a field of an object. All data of all objects in this field will be lost.
The field will be removed from the database table. When there is no field or datatype with the given id,
nothing happens.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="arrange-client.js.html">arrange-client.js</a>, <a href="arrange-client.js.html#line142">line 142</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="deleteobject"><span class="type-signature">(async) </span>deleteobject<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Deletes an object of the given datatype and id.
When the datatype or object does not exists, nothing happens
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="arrange-client.js.html">arrange-client.js</a>, <a href="arrange-client.js.html#line151">line 151</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="dorequest"><span class="type-signature">(async) </span>dorequest<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Performs a request to the server and waits for the given result event
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="arrange-client.js.html">arrange-client.js</a>, <a href="arrange-client.js.html#line159">line 159</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="getdatatypes"><span class="type-signature">(async) </span>getdatatypes<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Returns all datatypes with their fields. There is no need to obtain
information about special datatypes or fields separately because this call
contains a very small amount of data, so it can be retrieved all at once.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="arrange-client.js.html">arrange-client.js</a>, <a href="arrange-client.js.html#line184">line 184</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="login"><span class="type-signature">(async) </span>login<span class="signature">(username, password)</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    Login an user. Depending on the username the user is logged in at its
corresponding client. Only the 'admin' user has special meanings and functions.
When the user was logged in before, logout() is called automatically, wo that the
user gets re-logged in. When the relogin fails, the user stays in the state "not logged in".
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>username</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Username to use</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>password</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Password of the user</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="arrange-client.js.html">arrange-client.js</a>, <a href="arrange-client.js.html#line198">line 198</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    True on success, false when the username does not exist or the password is wrong.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="logout"><span class="type-signature">(async) </span>logout<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Logout the currently logged in user by destroying his session. After this call,
only login can be used to relogin. When the user was not logged in before, nothing happens.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="arrange-client.js.html">arrange-client.js</a>, <a href="arrange-client.js.html#line207">line 207</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="saveobject"><span class="type-signature">(async) </span>saveobject<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Creates or updates an object. When the data parameter contains
an id field and an object with this id exists, it will be updated.
Otherwise a new object will be created.
Only those fields get updated which are contained in the data.
The response contains the full object with an id field.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="arrange-client.js.html">arrange-client.js</a>, <a href="arrange-client.js.html#line219">line 219</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Arrange.html">Arrange</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Oct 29 2018 19:18:23 GMT+0000 (UTC)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>